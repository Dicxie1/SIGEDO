        <div class="container">
            <h3>Horario por Aula</h3>
            <div class="row mb-4">
                <div class="col-md-6">
                    <label for="selectClassroom" class="form-label">Seleccionar Aula</label>
            <select class="form-select" id="selectClassroom" asp-items="@ViewBag.ClassroomList" onchange="getClassroomSchedule()">
                        <option value="" disabled selected>Seleccionar...</option>
                    </select> 
                </div>
            </div>
            @*
                <div id="calendarSkeleton" class="card shadow border-0" aria-hidden="true">
                <div class="card-body p-0">
                    <div class="p-3 border-bottom d-flex justify-content-between aling-items-center">
                        <div class="w-25">
                            <div class="skeleton-box rounded" style="height: 24px; width: 60%;"></div>
                            <div class="skeleton-box rounded mt-2" style="height: 16px; width: 40%;"></div>
                        </div>
                        <div class="d-flex gap-2">
                            <div class="skeleton-box rounded" style="height: 38px; width: 100px;"></div>
                            <div class="skeleton-box rounded" style="height: 38px; width: 60px;"></div>
                            <div class="skeleton-box rounded" style="height: 38px; width: 100px;"></div>
                        </div>
                    </div>
                <div class="d-flex flex-nowrap overflow-hidden position-relative" style="height: 600px;">
                    <div class="flex-shrink-0 border-end bg-light p-2" style="width: 60px;">
                        @for(int i = 0; i < 10; i ++)
                        {
                            <div class="skeleton-box rounded mb-4 ms-auto" style="height: 12px; width: 70%; opacity: 0.5;"></div>
                        }
                    </div>
                    <div class="flex-grow-1 d-flex">
                        @for (int i = 0; i < 7; i++)
                {
                    <div class="flex-fill border-end position-relative">
                        <div class="border-bottom p-2 text-center bg-white">
                            <div class="skeleton-box rounded mx-auto mb-1" style="height: 14px; width: 50%;"></div>
                            <div class="skeleton-box rounded mx-auto" style="height: 12px; width: 30%;"></div>
                        </div>
                        
                        <div class="p-1 h-100 bg-light bg-opacity-10 position-relative">
                            <div class="skeleton-grid-lines"></div>

                            @if (i % 2 == 0) { 
                                <div class="skeleton-event rounded shadow-sm" style="top: 15%; height: 80px;"></div>
                            }
                            @if (i % 3 == 0) {
                                <div class="skeleton-event rounded shadow-sm" style="top: 45%; height: 120px;"></div>
                            }
                        </div>
                    </div>
                }
                    </div>
                </div>
            </div>
            </div>
            *@
         @*  
            <div class="p-3">
                <div class="d-flex justify-content-between align-items-center mb-4 bg-light p-3 rounded border">
                    <div class="d-flex align-items-center">
                        <span class="badge bg-success rounded-pill p-2 me-2 animate__animated animate__pulse animate__infinite">
                            <i class="fas fa-check-circle"></i>
                        </span>
                        <div>
                            <h6 class="mb-0 fw-bold text-success">Disponible Ahora</h6>
                            <small class="text-muted">Próxima clase: 14:00 PM</small>
                        </div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-outline-secondary btn-sm"><i class="fas fa-chevron-left"></i></button>
                        <button class="btn btn-white btn-sm fw-bold px-3 disabled text-dark">Semana Actual</button>
                        <button class="btn btn-outline-secondary btn-sm"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <button class="btn btn-sm btn-outline-dark" onclick="window.print()">
                        <i class="fas fa-print me-1"></i> Imprimir
                    </button>
                </div>
                <div id=loadingSpinner class="text-center my-5 d-none">
                    <div class="d-flex justify-content-center align-items-center" role="status">
                        <div class="spinner-border text-primary" role="status"></div>
                    </div>
                    <p class="mt-2 text-muted">Obteniendo horarios...</p>
                </div>
                <div class="table-responsive shadow-sm rounded">
                    <table class="table table-bordered table-sm text-center align-middle mb-0" style="table-layout: fixed;">
                        <thead class="bg-purple text-white"> 
                            <tr>
                                <th style="width: 80px;" class="py-3"><i class="far fa-clock"></i></th>
                                <th class="py-3">Lunes</th>
                                <th class="py-3">Martes</th>
                                <th class="py-3">Miércoles</th>
                                <th class="py-3">Jueves</th>
                                <th class="py-3">Viernes</th>
                                <th class="py-3">Sábado</th>
                                <th class="py-3 bg-secondary bg-opacity-25 text-white-50">Domingo</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white">
                        <tr>
                            <td class="fw-bold text-muted bg-light">07:00</td>
                            <td class="p-1">
                                <div class="card border-0 bg-primary bg-opacity-10 border-start border-4 border-primary h-100 p-1 text-start">
                                    <span class="badge bg-primary mb-1">ING-101</span>
                                    <div class="small fw-bold text-dark lh-1">Intr. Sistemas</div>
                                    <div class="small text-muted" style="font-size: 0.75rem;">Prof. García</div>
                                </div>
                            </td>
                        <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                        <td class="p-1">
                            <div class="card border-0 bg-success bg-opacity-10 border-start border-4 border-success h-100 p-1 text-start">
                                <span class="badge bg-success mb-1">MAT-200</span>
                                <div class="small fw-bold text-dark lh-1">Cálculo I</div>
                                <div class="small text-muted" style="font-size: 0.75rem;">Prof. López</div>
                            </div>
                        </td>
                        <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                        <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                        <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                        <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                        <td class="bg-secondary bg-opacity-10"></td> </tr>
                        <tr>
                            <td class="fw-bold text-muted bg-light">08:00</td>
                            <td class="p-1">
                                <div class="card border-0 bg-primary bg-opacity-10 border-start border-4 border-primary h-100 p-1 text-start">
                                    <small class="text-primary fw-bold">Continúa...</small>
                                </div>
                            </td>
                            <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                            <td class="p-1">
                                <div class="card border-0 bg-success bg-opacity-10 border-start border-4 border-success h-100 p-1 text-start">
                                    <small class="text-success fw-bold">Continúa...</small>
                                </div>
                            </td>
                            <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                            <td class="p-1">
                                <div class="card border-0 bg-warning bg-opacity-10 border-start border-4 border-warning h-100 p-1 text-start">
                                    <span class="badge bg-warning text-dark mb-1">FIS-300</span>
                                    <div class="small fw-bold text-dark lh-1">Física II</div>
                                    <div class="small text-muted" style="font-size: 0.75rem;">Ing. Torres</div>
                                </div>
                            </td>
                        <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                                <td class="bg-secondary bg-opacity-10"></td>
                            </tr>
                            <tr>
                                <td class="fw-bold text-muted bg-light">09:00</td>
                                <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                                <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                                <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                                <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                                <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                        <td class="text-muted bg-light bg-opacity-25 small">Libre</td>
                                <td class="bg-secondary bg-opacity-10"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
        
                <div class="mt-3 d-flex gap-3 text-muted small">
                    <div class="d-flex align-items-center"><div class="rounded-circle bg-primary me-1" style="width: 10px; height: 10px;"></div> Ingeniería</div>
                    <div class="d-flex align-items-center"><div class="rounded-circle bg-success me-1" style="width: 10px; height: 10px;"></div> Ciencias Básicas</div>
                    <div class="d-flex align-items-center"><div class="rounded-circle bg-warning me-1" style="width: 10px; height: 10px;"></div> Talleres</div>
                    <div class="d-flex align-items-center"><div class="border me-1 bg-light" style="width: 10px; height: 10px;"></div> Disponible</div>
                </div>
            </div>
        *@
    <div id="calendarEmptyState" class="card shadow-sm border-0 text-center py-5">
        <div class="card-body py-5">
            <div class="mb-5 position-relative d-inline-block">
                <i class="fas fa-building position-absolute top-50 start-50 translate-middle text-primary opacity-50" style="font-size: 4rem;"></i>
            </div>

            <h3 class="h4 fw-bold text-gray-800">Selecciona un Aula para comenzar</h3>
            <p class="text-muted col-md-6 mx-auto mb-4">
                Actualmente no has seleccionado ningún espacio físico.
                Elige un aula del menú superior para visualizar su cronograma semanal,
                detectar huecos libres y gestionar asignaciones.
            </p>

            <div class="animate-bounce mt-3">
                <i class="bi bi-arrow-up-circle-fill text-primary display-5 shadow-sm rounded-circle"></i>
            </div>
            <p class="small text-primary fw-bold mt-2">¡Elige arriba!</p>
        </div>
    </div>
    <div id="calendarSkeleton" class="card shadow border-0 d-none" aria-hidden="true">
        <div class="card-body p-0">
            <div class="p-3 border-bottom d-flex justify-content-between aling-items-center">
                <div class="w-25">
                    <div class="skeleton-box rounded" style="height: 24px; width: 60%;"></div>
                    <div class="skeleton-box rounded mt-2" style="height: 16px; width: 40%;"></div>
                </div>
                <div class="d-flex gap-2">
                    <div class="skeleton-box rounded" style="height: 38px; width: 100px;"></div>
                    <div class="skeleton-box rounded" style="height: 38px; width: 60px;"></div>
                    <div class="skeleton-box rounded" style="height: 38px; width: 100px;"></div>
                </div>
            </div>
            <div class="d-flex flex-nowrap overflow-hidden position-relative" style="height: 600px;">
                <div class="flex-shrink-0 border-end bg-light p-2" style="width: 60px;">
                    @for (int i = 0; i < 10; i++)
                    {
                        <div class="skeleton-box rounded mb-4 ms-auto" style="height: 12px; width: 70%; opacity: 0.5;"></div>
                    }
                </div>
                <div class="flex-grow-1 d-flex">
                    @for (int i = 0; i < 7; i++)
                    {
                        <div class="flex-fill border-end position-relative">
                            <div class="border-bottom p-2 text-center bg-white">
                                <div class="skeleton-box rounded mx-auto mb-1" style="height: 14px; width: 50%;"></div>
                                <div class="skeleton-box rounded mx-auto" style="height: 12px; width: 30%;"></div>
                            </div>

                            <div class="p-1 h-100 bg-light bg-opacity-10 position-relative">
                                <div class="skeleton-grid-lines"></div>

                                @if (i % 2 == 0)
                                {
                                    <div class="skeleton-event rounded shadow-sm" style="top: 15%; height: 80px;"></div>
                                }
                                @if (i % 3 == 0)
                                {
                                    <div class="skeleton-event rounded shadow-sm" style="top: 45%; height: 120px;"></div>
                                }
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid py-4 d-none" id="calendarClassroom">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
                <h2 class="h4 fw-bold text-primary" id="calendarTitle"></h2>
                <p class="text-muted mb-0" id="calendarRange">...</p>
            </div>
            <div class="btn-group shadow-sm">
                <button class="btn btn-outline-secondary" onclick="changeWeek(-7)">
                    <i class="bi bi-chevron-left"></i> Anterior
                </button>
                <button class="btn btn-outline-secondary" onclick="resetToToday()">
                    Hoy
                </button>
                <button class="btn btn-outline-secondary" onclick="changeWeek(7)">
                    Siguiente <i class="bi bi-chevron-right"></i>
                </button>
            </div>
        </div>

        <div id="loadingSpinner" class="text-center my-5 d-none">
            <div class="spinner-border text-primary" role="status"></div>
            <p class="mt-2 text-muted">Obteniendo horarios...</p>
        </div>

        <div class="card shadow border-0" id="calendarGrid">
            <div class="card-body p-0">
                <div class="d-flex flex-nowrap overflow-auto position-relative">

                    <div class="flex-shrink-0 bg-light border-end" style="width: 60px;">
                        <div style="height: 50px;" class="border-bottom bg-white sticky-top"></div>
                        <div style="height: 960px; position: relative;">
                            <div id="time-labels-container"></div>
                        </div>
                    </div>

                    <div class="flex-grow-1 d-flex" style="min-width: 800px;">
                        @for (int i = 0; i < 7; i++)
                        {
                            <div class="flex-fill border-end position-relative day-column" data-day-index="@i">
                                <div class="text-center py-2 border-bottom sticky-top bg-white header-date" style="height: 50px; z-index: 20;">
                                    <div class="fw-bold small day-name">@ViewBag.Days[i]</div>
                                    <div class="small text-muted day-date">...</div>
                                </div>

                                <div class="events-container" style="height: 960px; position: relative;">
                                    <div class="grid-lines"></div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
        </div>